"use strict";const primaryMenuMobileLink=document.getElementById("primaryMenuMobile"),background=document.getElementById("background"),backgroundNav=document.getElementById("background-nav"),primaryMenu=document.querySelector(".header__navbar"),primaryMenuList=document.querySelector(".main-nav__list"),primaryMenuIcon=document.querySelector(".nav-icon "),subMenuList=document.querySelectorAll(".main-submenu__list"),backLink=document.getElementById("mainNavBackLink"),backLinkDiv=document.querySelector(".main-nav__back-link"),DESKTOP_WIDTH=1440;function toggleClassMenu(e){(e=e||window.event).stopPropagation(),background.classList.toggle("active-background"),primaryMenu.classList.contains("header__navbar--visible")?(primaryMenu.classList.remove("header__navbar--visible"),primaryMenuIcon.classList.remove("nav-icon--active"),cleanOnCloseMenu(),setHeaderTitle()):(primaryMenu.classList.add("header__navbar--visible"),primaryMenuIcon.classList.add("nav-icon--active"),setHeaderTitle("Menu"))}function toggleSubMenu(e){if((e=e||window.event).target.classList.contains("main-submenu__link"))e.stopPropagation();else if("A"===e.target.nodeName){e.stopPropagation();const n=e.target.nextElementSibling,i=`<li class="main-submenu__item main-submenu__item-parent">${e.target.innerText}</li>`;if(n.insertAdjacentHTML("afterbegin",i),window.innerWidth>=1440){const e=document.querySelector("#desktopSubmenu");return e.classList.toggle("active-background"),e.firstElementChild.childNodes.forEach(e=>e.remove()),e.firstElementChild.insertAdjacentHTML("afterbegin",n.innerHTML),void background.classList.toggle("active-background")}n.classList.toggle("main-submenu--active"),backgroundNav.classList.toggle("active-background"),window.innerWidth<1440&&backLinkDiv.classList.add("main-nav__back-link--visible")}}function goBackToMainMenu(e){"DIV"===(e=e||window.event).target.nodeName&&(e.stopPropagation(),cleanOnCloseMenu())}function setHeaderTitle(e){const n=document.querySelector(".header__title"),i=document.querySelector(".main-nav__item--active");n.innerText="string"==typeof e?e:i.childNodes[1].innerText}function cleanOnCloseMenu(){const e=document.querySelector(".main-submenu--active");e&&(e.firstElementChild.remove(),e.classList.remove("main-submenu--active")),backgroundNav.classList.remove("active-background"),backLinkDiv.classList.remove("main-nav__back-link--visible")}primaryMenuMobileLink.addEventListener("click",toggleClassMenu,!1),primaryMenuList.addEventListener("click",toggleSubMenu,!1),backLink.addEventListener("click",goBackToMainMenu,!1),window.addEventListener("DOMContentLoaded",setHeaderTitle,!1),window.addEventListener("click",()=>{primaryMenu.classList.contains("header__navbar--visible")&&(cleanOnCloseMenu(),toggleClassMenu())},!1);